@page
@model StatsModel
@{
    ViewData["Name"] = "Stats";
}
<div class="header">
    <h1>Statistics</h1>
</div>
<div class="block">
    <div class="filter">
        <form>
            <label><b>Player Name</b></label>
            <select class="p-2" asp-for="SelectedName" asp-items="Model.Names" onchange="this.form.submit();">
                <option value="">All</option>
            </select>
        </form>
    </div>
    <table class="stat-table">
        <tr>
            <td class="stat-first-row"><b>ID</b></td>
            <td class="stat-first-row"><b>Date</b></td>
            <td class="stat-first-row"><b>Player name</b></td>
            <td class="stat-first-row"><b>Mistakes</b></td>
            <td class="stat-first-row"><b>Level</b></td>
            <td class="stat-first-row"><b>Unsolved cells</b></td>
            <td class="stat-first-row"><b>Delete</b></td>
        </tr>
        @foreach (var item in Model.Stats)
        {
            <tr>
                <td class="stat-row" style="width: 5%;">@item.ID</td>
                <td class="stat-row" style="width: 20%;">@item.Date.ToString("dd/MM/yyyy")</td>
                <td class="stat-row" style="width: 20%;">@item.Name</td>
                <td class="stat-row" style="width: 10%;">@item.Mistakes</td>
                <td class="stat-row" style="width: 17%;">@item.Level</td>
                <td class="stat-row" style="width: 12%;">@item.UnsolvedCells</td>
                <td class="stat-row" style="width: 13%;">
                    <form method="post">
                        <input type="submit" value="Delete" class="btn btn-sm btn-danger " />
                        <input type="hidden" name="ID" value="@item.ID" />
                    </form>
                </td>
            </tr>
        }
    </table>
</div>

